define("ui/accessibility/menu-item",["jquery"],function(e){function t(t,n){this.$el=t,this.$el.attr("tabindex",-1);var i=this.$el.closest("ul"),s=this.$el.closest("li");this.$innerContainer=s.length?s:n,this.$outerContainer=i.length?i:n,this.isFirstChild=e(this.$innerContainer).is(":first-child"),this.isLastChild=e(this.$innerContainer).is(":last-child")}return t.prototype={findNext:function(){return this.next},findPrevious:function(){var e=this.previous;if(!this.isFirstChild)for(;!e.$outerContainer.is(this.$outerContainer);)e=e.previous;return e}},t}),define("ui/accessibility/accessible-menu",["jquery","ui/accessibility/menu-item"],function(e,t){function n(e,t){this.MENU_FOCUSED_MESSAGE="Use arrow keys to navigate menu.",this.MENU_TRIGGER_FOCUSED_MESSAGE="Press Enter or Spacebar to open menu.",this.MENU_CLOSED_MESSAGE="Menu closed.  Press Enter or Spacebar to open menu.",this.MENU_OPENED_MESSAGE="Menu open.  Press Escape to close.  Use arrow keys to navigate menu.",this.$menu=e,this.$trigger=this.$menu.find("[data-menu='trigger']"),this.hasTrigger=this.$trigger.length>0,this.isOpen=!this.hasTrigger,this.onTrigger=t||this._defaultOnTrigger,this.$instructions=this.$menu.find("[data-menu='instructions']"),this.initialize()}return n.prototype={_haltEvent:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},_defaultOnTrigger:function(e,t){},initialize:function(){this.$menu.attr("tabindex",0),this.hasTrigger&&this.$trigger.attr("tabindex",-1),this.menuItems=this._fetchMenuItems(),this.menuItems.length>0&&(this.$first=this.menuItems[0].$el,this.$last=this.menuItems[this.menuItems.length-1].$el,this._addEventHandlers())},_fetchMenuItems:function(){var n,i=[],s=this;if(this.$menu.find("[data-menu='item']").each(function(r,a){var o=new t(e(a),s.$menu);n&&(n.next=o,o.previous=n),n=o,i.push(o)}),i.length>1){var r=i[0],a=i[i.length-1];r.previous=a,a.next=r}return i},_addEventHandlers:function(){this._addMenuFocusHandles(),this._addMenuHoverHandlers(),this._addMenuClickHandlers(),this._addMenuKeyEventHandlers()},_addMenuFocusHandles:function(){var t=e.proxy(function(e){this.$menu.is(e.target)&&(this._haltEvent(e),this.hasTrigger?(this.$trigger.focus(),this.isOpen||this._setInstructions(this.MENU_TRIGGER_FOCUSED_MESSAGE)):(this.$first.focus(),this._setInstructions(this.MENU_FOCUSED_MESSAGE)))},this);this.$menu.focus(t);var n=e.proxy(function(t){this._haltEvent(t);var n=e.proxy(function(){this.hasTrigger&&0===this.$menu.has(document.activeElement).length&&this.closeMenu()},this);setTimeout(n,1)},this);this.$menu.focusout(n)},_addMenuHoverHandlers:function(){if(this.hasTrigger){var t=e.proxy(function(e){this.isOpen||(this._haltEvent(e),this.onTrigger(this.$menu,!0))},this),n=e.proxy(function(t){if(!this.isOpen){this._haltEvent(t);var n=e.proxy(function(){this.onTrigger(this.$menu,!1)},this);setTimeout(n,400)}},this);this.$menu.hover(t,n)}},_addMenuClickHandlers:function(){if(this.hasTrigger){var t=e.proxy(function(e){this._haltEvent(e),this.isOpen?this.closeMenu():this.openMenu()},this);this.$trigger.click(t)}},_addMenuKeyEventHandlers:function(){var t=e.proxy(function(e){switch(e.which){case 40:case 39:this._haltEvent(e),this.selectNextMenuItem();break;case 38:case 37:this._haltEvent(e),this.selectPreviousMenuItem();break;case 13:case 32:!this.isOpen&&this._triggerIsInFocus()&&(this._haltEvent(e),this.openMenu());break;case 27:this.hasTrigger&&(this._haltEvent(e),this.closeMenu(),this.$trigger.focus())}},this);this.$menu.keydown(t)},_focusOnItem:function(e){e.$el.focus()},_setInstructions:function(e){this.$instructions.html(e)},_getCurrentFocusedMenuItem:function(){var t=e(document.activeElement),n=-1;return this.menuItems.forEach(function(e,i){return t.is(e.$el)?(n=i,!1):void 0}),this.menuItems[n]},_triggerIsInFocus:function(){return this.hasTrigger&&e(document.activeElement).is(this.$trigger)},openMenu:function(){this.isOpen=!0,this._setInstructions(this.MENU_OPENED_MESSAGE),this.onTrigger(this.$menu,this.isOpen)},closeMenu:function(){this.isOpen=!1,this._setInstructions(this.MENU_CLOSED_MESSAGE),this.onTrigger(this.$menu,this.isOpen)},selectNextMenuItem:function(){this._triggerIsInFocus()?this.isOpen&&this._focusOnItem(this.menuItems[0]):this._focusOnItem(this._getCurrentFocusedMenuItem().findNext())},selectPreviousMenuItem:function(){this._triggerIsInFocus()?this.isOpen&&this._focusOnItem(this.menuItems[this.menuItems.length-1]):this._focusOnItem(this._getCurrentFocusedMenuItem().findPrevious())}},n}),define("ui/accessibility/accessible-menu-service",["ui/accessibility/accessible-menu"],function(e){return{addAccessibility:function(t,n){return new e(t,n)}}}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery/jquery.ui",["jquery"],e):e(jQuery)}(function(e){function t(t,i){var s,r,a,o=t.nodeName.toLowerCase();return"area"===o?(s=t.parentNode,r=s.name,t.href&&r&&"map"===s.nodeName.toLowerCase()?(a=e("img[usemap='#"+r+"']")[0],!!a&&n(a)):!1):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),s=isNaN(i);return(s||i>=0)&&t(n,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,r){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?a["inner"+n].call(this):this.each(function(){e(this).css(r,i(this,t)+"px")})},e.fn["outer"+n]=function(t,s){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(r,i(this,t,!0,s)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,s=e(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(s.css("zIndex"),10),!isNaN(i)&&0!==i))return i;s=s.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var s,r=e.ui[t].prototype;for(s in i)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([n,i[s]])},call:function(e,t,n,i){var s,r=e.plugins[t];if(r&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(s=0;s<r.length;s++)e.options[r[s][0]]&&r[s][1].apply(e.element,n)}}}),define("ui/surveyui/help-taborder-service",["jquery","vendor/jquery/jquery.ui"],function(e){return{_haltEvent:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},_tabFromElementToElement:function(t,n){var i=e.proxy(function(e){9!=e.which||e.shiftKey||(this._haltEvent(e),n.focus())},this);t.keydown(i)},_shiftTabFromElementToElement:function(t,n){var i=e.proxy(function(e){9==e.which&&e.shiftKey&&(this._haltEvent(e),n.focus())},this);t.keydown(i)},_tabBetween:function(t,n){var i=t.parent();if(t.is("button.styledbutton")&&i.hasClass("upload-container")){var s=i.parent().find(".delete-container > button.delete"),r=e.proxy(function(e){9!=e.which||e.shiftKey||(this._haltEvent(e),"visible"==s.css("visibility")?s.focus():n.focus())},this);t.keydown(r);var a=e.proxy(function(e){9!=e.which||e.shiftKey||(this._haltEvent(e),n.focus())},this);s.keydown(a);var o=e.proxy(function(e){9==e.which&&e.shiftKey&&(this._haltEvent(e),"visible"==s.css("visibility")?s.focus():t.focus())},this);n.keydown(o)}else this._tabFromElementToElement(t,n),this._shiftTabFromElementToElement(n,t)},_linkTabEvents:function(t,n){if(n.length>1){var i=n.first();if(i.is(":radio")&&i.is("[name]")){var s=i.attr("name"),r=e(document.getElementsByName(s));this._tabFromElementToElement(t,i),this._tabBetween(t,r)}else this._tabBetween(t,i)}else this._tabBetween(t,n)},_getFirstTabbableBeforeHelp:function(e,t){var n,i=t.index(e);return i>0&&(n=t.eq(i-1)),n},_getTabbablesBetweenHelpAndQuestion:function(e,t,n){var i=[],s=[],r=n.index(e)+1,a=n.index(t);do{var o=n.eq(r);o.is(":tabbable")&&(o.is("button")&&o.parent().is("[data-tabbedbefore]")?i.push(o):s.push(o)),r++}while(a>r);var u=s.length>0,h=i.length>0;return{help:i,hasHelp:h,nonHelp:s,hasNonHelp:u}},_handleTabbingToFirstHelpElement:function(t,n,i,s){if(n.hasNonHelp){var r=n.nonHelp[n.nonHelp.length-1];if(i&&i.parent().is("[data-tabbedbefore]")){var a=i.parent().data("tabbedbefore"),o=e(document.getElementById(a)),u=s.index(r),h=s.index(o);if(h>u)return}this._linkTabEvents(r,t)}},_handleTabbingOverHelpElements:function(e,t,n){if(t.hasNonHelp&&n&&!n.parent().is("[data-tabbedbefore]")){var i=t.nonHelp[0];this._linkTabEvents(n,i)}},_handleTabbingAfterLastHelpElement:function(t,n,i,s){if(i.is(":tabbable"))this._linkTabEvents(t,i);else if(i.find(":tabbable").length>0){var r=i.find(":tabbable");this._linkTabEvents(t,r)}else{var a,o=s.index(i);do a=s.eq(o),o++;while(!a.is(":tabbable")&&o<s.length);if(!a.is(":tabbable"))return;var u=a.parent(),h=u.is("[data-tabbedbefore]");if(n.hasHelp){var c=n.help[0],l=c.parent().data("tabbedbefore"),f=e(document.getElementById(l));if(0===f.length)this._linkTabEvents(t,a);else{var d=s.index(a),b=s.index(f);b>d&&this._linkTabEvents(t,a)}}else if(h){var m=u.data("tabbedbefore"),p=e(document.getElementById(m));if(p.length<1)return void this._linkTabEvents(t,a);var v=this._getTabbablesBetweenHelpAndQuestion(u.find(":tabbable").last(),p,s);v.hasNonHelp?this._linkTabEvents(t,v.nonHelp[0]):this._linkTabEvents(t,a)}}},fixHelpTabOrder:function(t){var n=t.find("*"),i=n.filter(":tabbable"),s=this,r=e("[data-tabbedbefore]:visible",t);r.each(function(){var t=this,r=e(t),a=r.data("tabbedbefore");if(a){var o=e(document.getElementById(a));if(o.length<1)return!0;var u=r.find(":tabbable"),h=u.first(),c=u.last(),l=s._getTabbablesBetweenHelpAndQuestion(c,o,n),f=s._getFirstTabbableBeforeHelp(h,i);s._handleTabbingToFirstHelpElement(h,l,f,n),s._handleTabbingOverHelpElements(h,l,f),s._handleTabbingAfterLastHelpElement(c,l,o,n)}})}}}),define("ui/main",["ui/accessibility/accessible-menu-service","ui/surveyui/help-taborder-service"],function(){return{}});
//# sourceMappingURL=main.js.map